<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Color Rainbow - User Input</title>

    <style>
      #colors {
        line-height: 1;
        width: 500px;
        margin: 25px auto;
      }

      div.colorBlock {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: inline-block;
        margin: auto 10px;
      }
    </style>
  </head>
  <body id="content">
    <h1 style="margin: 25px auto; width: 500px; text-align: center;">
      Click me to create rainbow colors
    </h1>
    
    <div id="colors"></div>

    <p style="margin: 12px auto; width: 450px; text-align: center;">
      <button id="clickMe" onclick="createRainbowBlocks();">Click me</button>
    </p>

    <script>
      
      //var num = 7

      var rgbColors = [
        [255, 0, 0],    // Red
        [255, 127, 0],  // Orange
        [255, 255, 0],  // Yellow
        [0, 255, 0],    // Green
        [0, 0, 255],    // Blue
        [75, 0, 130],   // Indigo
        [148, 0, 211]   // Violet
      ];

      function createRainbowBlocks() {
        var num = 0;

        while (num < 7 || num > 20) {
          numStr = prompt("請輸入一個介於 7 到 20 的整數： ");
          num = parseInt(numStr);
        }
        //alert(num);

        var blocks = "", colorBk;
        var red, green, blue, r, g, b, incR, incG, incB;

        for (var i = 0, len = rgbColors.length; i < len; i++) {
          r = rgbColors[i][0]; // 第i個顏色r值
          g = rgbColors[i][1]; // 第i個顏色g值
          b = rgbColors[i][2]; // 第i個顏色b值
          // 顏色由深變淺, rgb(255, 255, 255): white
          incR = Math.floor((255 - r) / num); // r變化量
          incG = Math.floor((255 - g) / num); // g變化量
          incB = Math.floor((255 - b) / num); // b變化量

          for (var j = 0; j < num; j++) {
            red = r + incR * j;   // 第i個顏色第j個球的r值
            green = g + incG * j; // 第i個顏色第j個球的g值
            blue = b + incB * j;  // 第i個顏色第j個球的b值
            colorBk = '<div class="colorBlock" style="background-color: rgb(' + 
              red + ',' + green + ',' + blue + ')"></div>'
              // <div class="colorBlock" style="background-color: rgb(255,21,21)"></div>
            blocks += colorBk;
          }
        }

        // change div.colors' inline styles width and margin
        var elem = document.getElementById("colors");
        var cssString = "width:" + num * 70 + "px;" + "margin: auto;";

        elem.style.cssText = cssString;
        elem.innerHTML = blocks;
      }
    </script>
  </body>
</html>
