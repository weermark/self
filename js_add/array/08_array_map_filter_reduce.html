<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body onload="getAverage()">
    <p id="demo1"></p>
    <p id="demo2"></p>
    <p id="demo3"></p>

    <script>
      function calcAverage(array) {
        var sum = 0;

        for (var i = 0, len = array.length; i < len; i++) {
          sum += array[i];
        }

        return (sum / len).toFixed(2);
      }

      function getSum(total, num) {
        return total + num;
      }

      //+ returns the number representation of the object, while - returns its negative counterpart.
      /*
isNaN('') --> false
isNaN('90') -> false
isFinite(NaN) -> false
isNaN(NaN) --> true
isNaN('A') --> true
typeof('') --> string
typeof('90') --> string
typeof(NaN) --> number
typeof(Infinity) --> number
'90' == +'90' --> true
'a' == + 'a' --> false
*/

      function isNumeric(n) {
        return typeof n === "number" && isFinite(n);
      }

      function getSqrt(arr) {
        var numbers = arr.filter(isNumeric);
        return numbers.map(Math.sqrt);
      }

      function reduceAvg(arr) {
        var numbers = arr.filter(isNumeric);        // 篩選數字
        var sum = numbers.reduce((x, y) => x + y);  // 加總
        return (sum / numbers.length).toFixed(2);   // 輸出平均數
      }

      function getAverage() {
        var a = [81, 81, 81, 81, 81, 81, , "A", "64", 81, NaN];
        //var array = [80, 80, 80, 80, 80, 80];
        document.getElementById("demo1").innerHTML = calcAverage(a);
        document.getElementById("demo2").innerHTML = reduceAvg(a);
        document.getElementById("demo3").innerHTML = getSqrt(a);
        console.log(a)
      }
    </script>
  </body>
</html>
